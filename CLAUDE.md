# PowerBI Ontology Extractor

**–ú–∏—Å—Å–∏—è**: –ò–∑–≤–ª–µ—á—å —Å–∫—Ä—ã—Ç—ã–µ –æ–Ω—Ç–æ–ª–æ–≥–∏–∏ –∏–∑ 20+ –º–∏–ª–ª–∏–æ–Ω–æ–≤ Power BI –¥–∞—à–±–æ—Ä–¥–æ–≤ –∏ —Å–¥–µ–ª–∞—Ç—å –∏—Ö –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤.

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω –∏–∑ https://github.com/pankajkumar/powerbi-ontology-extractor

---

## –í–∏–¥–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–æ–±–ª–µ–º–∞
- 20+ –º–∏–ª–ª–∏–æ–Ω–æ–≤ Power BI –¥–∞—à–±–æ—Ä–¥–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—Ç **—Å–∫—Ä—ã—Ç—ã–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥–µ–ª–∏** (—Ç–∞–±–ª–∏—Ü—ã, —Å–≤—è–∑–∏, –º–µ—Ä—ã, RLS)
- AI-–∞–≥–µ–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–∞–Ω–Ω—ã–º–∏ –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª
- **70% –æ–Ω—Ç–æ–ª–æ–≥–∏–∏** –º–æ–∂–Ω–æ –∏–∑–≤–ª–µ—á—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ .pbix —Ñ–∞–π–ª–æ–≤
- **30%** —Ç—Ä–µ–±—É—é—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏—Ç–∏–∫–æ–º (governance rules, constraints)

### –†–µ—à–µ–Ω–∏–µ: 30-–º–∏–Ω—É—Ç–Ω—ã–π workflow
```
Power BI (.pbix) ‚Üí Ontology Extractor ‚Üí OntoGuard ‚Üí Universal Agent Connector ‚Üí AI Agent
     10 –º–∏–Ω           10 –º–∏–Ω            5 –º–∏–Ω            3 –º–∏–Ω               2 –º–∏–Ω
```

### –ö–ª—é—á–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å
- **Schema Drift Detection** ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –Ω–∞ $4.6M (—Ä–µ–∞–ª—å–Ω—ã–π –∫–µ–π—Å: –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏)
- **Semantic Contracts** ‚Äî property-level permissions (read/write/execute) –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤
- **Multi-dashboard Analysis** ‚Äî –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π ("Revenue" –≤ —Ä–∞–∑–Ω—ã—Ö –¥–∞—à–±–æ—Ä–¥–∞—Ö)

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Power BI .pbix    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Ontology Extractor  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ       OntoGuard             ‚îÇ
‚îÇ  (20M+ dashboards)  ‚îÇ     ‚îÇ  (—ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç)       ‚îÇ     ‚îÇ  ~/ontoguard-ai/            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                     ‚îÇ                              ‚îÇ
                                     ‚îÇ OWL/Fabric IQ                ‚îÇ Semantic Validation
                                     ‚ñº                              ‚ñº
                            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                            ‚îÇ   Semantic Contract  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Universal Agent Connector  ‚îÇ
                            ‚îÇ   (permissions)      ‚îÇ     ‚îÇ  ~/universal-agent-connector‚îÇ
                            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                                    ‚îÇ
                                                                    ‚ñº
                                                         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                                         ‚îÇ       AI Agents             ‚îÇ
                                                         ‚îÇ  (Claude, GPT, etc.)        ‚îÇ
                                                         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á

### ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ

#### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å circular imports
- –¶–µ–ø–æ—á–∫–∞: `extractor.py` ‚Üí `utils/__init__.py` ‚Üí `visualizer.py` ‚Üí `ontology_generator.py` ‚Üí `extractor.py`
- –†–µ—à–µ–Ω–∏–µ: —É–±—Ä–∞—Ç—å eager imports –∏–∑ `utils/__init__.py`

#### 2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø–æ—á–∏–Ω–∏—Ç—å —Ç–µ—Å—Ç—ã
- **340 passed**, 0 failed, **coverage 82%** (–æ–±–Ω–æ–≤–ª–µ–Ω–æ 2026-02-04)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 5 –±–∞–≥–æ–≤: dateTime mapping, URI —Å –ø—Ä–æ–±–µ–ª–∞–º–∏, DAX entity name, schema drift test fixtures
- –ü–æ—Ä–æ–≥ coverage —Å–Ω–∏–∂–µ–Ω –¥–æ 78% (visualizer.py = 12%, pbix_reader.py = 51% –∏–∑-–∑–∞ PBIXRay runtime)

#### 7. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π .pbix —Ñ–∞–π–ª –¥–ª—è E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –°–∫–∞—á–∞–Ω—ã Microsoft official samples: Sales_Returns_Sample.pbix (6.3 MB), Adventure_Works_DW_2020.pbix (7.8 MB)
- E2E —Ç–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω: .pbix ‚Üí SemanticModel (15 entities, 9 relationships, 58 measures) ‚Üí OWL (42764 bytes)

#### 8. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PBIXRay –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ DataModel
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `pbixray>=0.5.0` –≤ requirements.txt
- `pbix_reader.py` –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π PBIXRay
- Fallback –Ω–∞ JSON model.bim –¥–ª—è legacy —Ñ–∞–π–ª–æ–≤
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ: tables, columns, relationships, DAX measures, Power Query, calculated columns, RLS rules
- Sample —Ñ–∞–π–ª—ã –≤ `examples/sample_pbix/`

#### 3. ‚úÖ Schema Drift Detection –¥–ª—è OntoGuard
- **–°—Ç–∞—Ç—É—Å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ Universal Agent Connector
- **–§–∞–π–ª—ã**:
  - `~/universal-agent-connector/ai_agent_connector/app/security/schema_drift.py` ‚Äî SchemaDriftDetector
  - `~/universal-agent-connector/policy_engine.py` ‚Äî `_check_schema_drift()`, `_send_schema_drift_alert()`
  - `~/universal-agent-connector/ai_agent_connector/app/websocket/ontoguard_ws.py` ‚Äî `emit_schema_drift_event()`
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
  - [x] `detect_drift()` –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ ExtendedPolicyEngine
  - [x] Alerting –ø—Ä–∏ CRITICAL drift (Slack/PagerDuty/webhook —á–µ—Ä–µ–∑ NotificationManager)
  - [x] Real-time WebSocket —Å–æ–±—ã—Ç–∏—è `schema_drift_detected`
- **–ö–ª—é—á–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –Ω–∞ $4.6M (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ ‚Üí CRITICAL alert)

---

#### 4. ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä Fabric IQ JSON ‚Üí OWL
- **–°—Ç–∞—Ç—É—Å**: –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§–∞–π–ª**: `powerbi_ontology/export/fabric_iq_to_owl.py`
- **–ö–ª–∞—Å—Å**: `FabricIQToOWLConverter`
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
  - [x] entities ‚Üí owl:Class —Å DatatypeProperties
  - [x] relationships ‚Üí owl:ObjectProperty
  - [x] businessRules ‚Üí Action classes —Å requiresRole/appliesTo
  - [x] –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è CRUD action rules (read/create/update/delete)
  - [x] Schema bindings –∫–∞–∫ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–ª—è drift detection
  - [x] Constraints (min/max, required, unique)
  - [x] –†–æ–ª–∏: Admin, Analyst, Viewer, Editor, Owner
- **–¢–µ—Å—Ç—ã**: 22 passed (96% coverage)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  ```python
  from powerbi_ontology.export import FabricIQExporter, FabricIQToOWLConverter

  exporter = FabricIQExporter(ontology)
  converter = FabricIQToOWLConverter.from_fabric_iq_exporter(exporter)
  converter.save("output.owl", format="xml")
  ```

---

#### 5. ‚úÖ Contract Builder ‚Üí OWL Converter
- **–°—Ç–∞—Ç—É—Å**: –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§–∞–π–ª**: `powerbi_ontology/export/contract_to_owl.py`
- **–ö–ª–∞—Å—Å**: `ContractToOWLConverter`
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
  - [x] read_entities ‚Üí ReadAction —Å requiresRole/appliesTo
  - [x] write_properties ‚Üí WriteAction —Å requiresRole/appliesTo/appliesToProperty
  - [x] executable_actions ‚Üí ExecuteAction classes
  - [x] business_rules ‚Üí Action classes —Å constraints
  - [x] context_filters ‚Üí OWL annotations
  - [x] audit_settings ‚Üí Ontology annotations
- **–¢–µ—Å—Ç—ã**: 22 passed (98% coverage)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  ```python
  from powerbi_ontology.contract_builder import ContractBuilder
  from powerbi_ontology.export import ContractToOWLConverter

  builder = ContractBuilder(ontology)
  contract = builder.build_contract("SalesAgent", permissions)
  converter = ContractToOWLConverter(contract)
  converter.save("sales_agent_contract.owl", format="xml")
  ```

---

#### 6. ‚úÖ E2E –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OntoGuard
- **–°—Ç–∞—Ç—É—Å**: –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§–∞–π–ª**: `tests/test_e2e/test_contract_ontoguard_integration.py`
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
  - [x] E2E pipeline: Ontology ‚Üí ContractBuilder ‚Üí OWL ‚Üí OntoGuard validation
  - [x] –ó–∞–≥—Ä—É–∑–∫–∞ contract OWL –≤ OntoGuard OntologyValidator
  - [x] –í–∞–ª–∏–¥–∞—Ü–∏—è read/write/execute actions —á–µ—Ä–µ–∑ OntoGuard
  - [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ role-based access (SalesAgent, Admin, Viewer)
  - [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ check_permissions –∏ get_allowed_actions API
- **–¢–µ—Å—Ç—ã**: 16 E2E —Ç–µ—Å—Ç–æ–≤ passed
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞**: 340 passed, coverage 82%

---

#### 7. ‚úÖ –£–ª—É—á—à–∏—Ç—å OWL Exporter
- **–°—Ç–∞—Ç—É—Å**: –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§–∞–π–ª**: `powerbi_ontology/export/owl.py` (521 —Å—Ç—Ä–æ–∫, 95% coverage)
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
  - [x] Action rules (requiresRole, appliesTo, allowsAction) –¥–ª—è OntoGuard
  - [x] Constraints: minCardinality (required), FunctionalProperty (unique), range (min/max), regex (pattern), enum
  - [x] RLS rules –∫–∞–∫ OWL restrictions —Å daxFilter
  - [x] Business rules ‚Üí Action classes —Å condition, classification, priority
  - [x] Default CRUD actions –¥–ª—è –∫–∞–∂–¥–æ–π entity √ó role
  - [x] `get_export_summary()` –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞
- **–û–ø—Ü–∏–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞**:
  - `include_action_rules: bool` ‚Äî –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å action rules
  - `include_constraints: bool` ‚Äî –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å constraints
  - `default_roles: List[str]` ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Ä–æ–ª–∏ (default: Admin, Analyst, Viewer)
- **–¢–µ—Å—Ç—ã**: 34 passed (7 test classes)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  ```python
  from powerbi_ontology.export import OWLExporter

  exporter = OWLExporter(ontology, default_roles=["Admin", "Analyst", "Viewer"])
  owl_content = exporter.export(format="xml")

  # –î–æ–±–∞–≤–∏—Ç—å RLS rules –∏–∑ SemanticModel
  exporter.add_rls_rules(semantic_model.security_rules)
  exporter.save("ontology.owl")
  ```

---

### üìã –ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (–∏–∑ roadmap)

#### 9. ‚úÖ Visual Ontology Editor (no-code UI)
- **–°—Ç–∞—Ç—É—Å**: –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§–∞–π–ª**: `ontology_editor.py` (1300+ —Å—Ç—Ä–æ–∫)
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è**: Streamlit
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
  - [x] **8 –≤–∫–ª–∞–¥–æ–∫**: Load/Create, Entities, Relationships, Permissions, Business Rules, OWL Preview, Diff & Merge, **üí¨ Chat**
  - [x] –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ .pbix —Ñ–∞–π–ª–æ–≤ –∏ JSON
  - [x] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ entities —Å properties
  - [x] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ relationships –º–µ–∂–¥—É entities
  - [x] Permission matrix: read/write/execute per role
  - [x] Business rules —Å classification –∏ priority
  - [x] Preview OWL —Å summary statistics
  - [x] –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON –∏ OWL —Ñ–æ—Ä–º–∞—Ç—ã
  - [x] Constraints: range, regex, enum
  - [x] **Diff & Merge** (–¥–æ–±–∞–≤–ª–µ–Ω–æ 2026-02-04):
    - –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Ç–æ—Ä–æ–π –æ–Ω—Ç–æ–ª–æ–≥–∏–∏ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
    - Run Diff: changelog —Å added/removed/modified
    - Run Merge: —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ union/ours/theirs
    - Semantic Debt Analysis: –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
    - Use Merged as Current: –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  - [x] **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∏—Å—Ç–æ—Ä–∏—è** (–¥–æ–±–∞–≤–ª–µ–Ω–æ 2026-02-04):
    - –ö–Ω–æ–ø–∫–∞ "üíæ Save to History" –≤ sidebar
    - –°–µ–∫—Ü–∏—è "üìö Recent Ontologies" (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Ñ–∞–π–ª–æ–≤)
    - –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º
    - –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ `data/ontologies/` (–∏–º—è + timestamp)
  - [x] **üí¨ Ontology Chat** (–¥–æ–±–∞–≤–ª–µ–Ω–æ 2026-02-04):
    - AI-—á–∞—Ç –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π –æ–Ω—Ç–æ–ª–æ–≥–∏–∏
    - OpenAI API (gpt-4o-mini) —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –æ–Ω—Ç–æ–ª–æ–≥–∏–∏
    - –í—ã–±–æ—Ä —Ä–æ–ª–∏ (Admin/Analyst/Viewer)
    - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
    - –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ –≤ —Å–µ—Å—Å–∏–∏
- **–ó–∞–ø—É—Å–∫**:
  ```bash
  streamlit run ontology_editor.py --server.port 8503
  ```
- **–ü—Ä–∏–º–µ—Ä**: `examples/sample_ontology.json`

#### 10. ‚úÖ Multi-Dashboard Semantic Debt Analysis
- **–°—Ç–∞—Ç—É—Å**: –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§–∞–π–ª**: `powerbi_ontology/semantic_debt.py` (585 —Å—Ç—Ä–æ–∫, 84% coverage)
- **–¶–µ–ª—å**: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π –º–µ–∂–¥—É –¥–∞—à–±–æ—Ä–¥–∞–º–∏
- **–ü—Ä–∏–º–µ—Ä**: "Revenue" –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –ø–æ-—Ä–∞–∑–Ω–æ–º—É –≤ Sales.pbix –∏ Finance.pbix
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
  - [x] `SemanticDebtAnalyzer` ‚Äî –∞–Ω–∞–ª–∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–Ω—Ç–æ–ª–æ–≥–∏–π
  - [x] `SemanticDebtReport` ‚Äî –æ—Ç—á—ë—Ç —Å to_dict() –∏ to_markdown()
  - [x] 5 —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤: MEASURE, TYPE, ENTITY, RELATIONSHIP, RULE
  - [x] 3 —É—Ä–æ–≤–Ω—è severity: CRITICAL, WARNING, INFO
  - [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏
  - [x] –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏: `load_ontologies_from_directory()`
  - [x] Convenience function: `analyze_ontologies(dict)`
- **–¢–µ—Å—Ç—ã**: 17 passed (7 test classes)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  ```python
  from powerbi_ontology.semantic_debt import SemanticDebtAnalyzer, analyze_ontologies

  analyzer = SemanticDebtAnalyzer()
  analyzer.add_ontology("Sales.pbix", sales_ontology)
  analyzer.add_ontology("Finance.pbix", finance_ontology)
  report = analyzer.analyze()

  print(report.to_markdown())  # Markdown –æ—Ç—á—ë—Ç
  print(report.to_dict())       # JSON-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π dict
  ```

#### 11. ‚úÖ Ontology Diff Tool
- **–°—Ç–∞—Ç—É—Å**: –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§–∞–π–ª**: `powerbi_ontology/ontology_diff.py` (730 —Å—Ç—Ä–æ–∫, 84% coverage)
- **–¶–µ–ª—å**: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π –æ–Ω—Ç–æ–ª–æ–≥–∏–π
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
  - [x] `OntologyDiff` ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –≤–µ—Ä—Å–∏–π –æ–Ω—Ç–æ–ª–æ–≥–∏–π
  - [x] `DiffReport` ‚Äî –æ—Ç—á—ë—Ç —Å to_dict(), to_changelog(), to_unified_diff()
  - [x] 4 —Ç–∏–ø–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: ENTITY, PROPERTY, RELATIONSHIP, RULE, METADATA
  - [x] 4 —Ç–∏–ø–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π: ADDED, REMOVED, MODIFIED, UNCHANGED
  - [x] `OntologyMerge` ‚Äî —Ç—Ä–∏-—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —Å–ª–∏—è–Ω–∏–µ (base, ours, theirs)
  - [x] Conflict detection –∏ resolution strategies
  - [x] Git-like changelog –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- **–¢–µ—Å—Ç—ã**: 21 passed (7 test classes)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  ```python
  from powerbi_ontology import OntologyDiff, diff_ontologies, merge_ontologies

  # Diff
  report = diff_ontologies(old_ontology, new_ontology)
  print(report.to_changelog())  # Markdown changelog
  print(report.to_dict())       # JSON-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π dict

  # Merge (three-way)
  merged, conflicts = merge_ontologies(base, ours, theirs)
  ```

#### 12. ‚úÖ CLI Batch Processing
- **–°—Ç–∞—Ç—É—Å**: –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§–∞–π–ª**: `powerbi_ontology/cli.py` (480 —Å—Ç—Ä–æ–∫, 60% coverage)
- **–¶–µ–ª—å**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–ø–∫–∏ —Å .pbix —Ñ–∞–π–ª–∞–º–∏
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
  - [x] `pbix2owl extract --input file.pbix --output ontology.owl`
  - [x] `pbix2owl batch --input ./dashboards/ --output ./ontologies/ --workers 4`
  - [x] `pbix2owl analyze --input ./ontologies/ --output report.md`
  - [x] `pbix2owl diff --source v1.json --target v2.json`
  - [x] –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (ThreadPoolExecutor)
  - [x] Rich progress bar –∏ summary tables
  - [x] Recursive directory search (`--recursive`)
  - [x] Multiple output formats (OWL, JSON, Markdown)
- **–¢–µ—Å—Ç—ã**: 19 passed (7 test classes)
- **Entry Points**: `pbix2owl`, `pbi-ontology`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  ```bash
  # –£—Å—Ç–∞–Ω–æ–≤–∫–∞
  pip install -e .

  # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
  pbix2owl extract -i sales.pbix -o sales.owl

  # Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
  pbix2owl batch -i ./dashboards/ -o ./ontologies/ -w 8 --recursive

  # –ê–Ω–∞–ª–∏–∑ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞
  pbix2owl analyze -i ./ontologies/ -o report.md

  # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π
  pbix2owl diff -s v1.json -t v2.json -f changelog
  ```

#### 13. ‚úÖ Collaborative Ontology Review
- **–°—Ç–∞—Ç—É—Å**: –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§–∞–π–ª**: `powerbi_ontology/review.py` (500 —Å—Ç—Ä–æ–∫, 93% coverage)
- **–¶–µ–ª—å**: Workflow –¥–ª—è review –∏ approve –æ–Ω—Ç–æ–ª–æ–≥–∏–π –∫–æ–º–∞–Ω–¥–æ–π
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
  - [x] `OntologyReview` ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è review —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
  - [x] `ReviewComment` ‚Äî –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ entities/properties/rules
  - [x] `ReviewWorkflow` ‚Äî state machine (draft ‚Üí in_review ‚Üí approved ‚Üí published)
  - [x] `ReviewReport` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è markdown –æ—Ç—á—ë—Ç–æ–≤
  - [x] Replies –∏ resolve –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
  - [x] Audit trail (history –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π)
  - [x] –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ JSON (save/load)
- **–¢–µ—Å—Ç—ã**: 33 passed (6 test classes)
- **Workflow —Å–æ—Å—Ç–æ—è–Ω–∏—è**:
  ```
  draft ‚Üí in_review ‚Üí approved ‚Üí published
                   ‚Üò changes_requested ‚Üí in_review
                   ‚Üò rejected ‚Üí draft
  ```
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  ```python
  from powerbi_ontology import create_review, ReviewWorkflow

  # –°–æ–∑–¥–∞–Ω–∏–µ review
  review = create_review(ontology)
  review.add_comment("alice", "Check Customer entity", TargetType.ENTITY, "Customer")

  # Workflow
  workflow = ReviewWorkflow(review)
  workflow.submit_for_review("alice", reviewers=["bob", "carol"])
  workflow.approve("bob", "Looks good")
  workflow.publish("admin")

  # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
  review.save("review.json")
  ```

#### 14. ‚úÖ Ontology Chat (AI-—á–∞—Ç –ø–æ .pbix –¥–∞–Ω–Ω—ã–º)
- **–°—Ç–∞—Ç—É—Å**: –ó–∞–≤–µ—Ä—à–µ–Ω–æ (–§–∞–∑—ã 1-2)
- **–¶–µ–ª—å**: –ß–∞—Ç –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π –æ–Ω—Ç–æ–ª–æ–≥–∏–∏ –∏–∑ .pbix —Ñ–∞–π–ª–æ–≤
- **–§–∞–π–ª—ã**: `powerbi_ontology/chat.py` (303 —Å—Ç—Ä–æ–∫), `ontology_editor.py` (+139 —Å—Ç—Ä–æ–∫)
- **–†–µ—Ñ–µ—Ä–µ–Ω—Å**: `~/universal-agent-connector/streamlit_app.py` (NL Query + OntoGuard)

##### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Streamlit UI                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  üí¨ Ontology Chat (–Ω–æ–≤–∞—è 8-—è –≤–∫–ª–∞–¥–∫–∞)               ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  [–í—ã–±–æ—Ä —Ä–æ–ª–∏: Admin | Analyst | Viewer]     ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  ü§ñ –û–Ω—Ç–æ–ª–æ–≥–∏—è: Sales_Returns_Sample         ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ     15 entities, 9 relationships            ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  üë§ –ö–∞–∫–∏–µ entities —Å–≤—è–∑–∞–Ω—ã —Å Customer?      ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  ü§ñ Customer —Å–≤—è–∑–∞–Ω —Å:                      ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ     - Sales (—á–µ—Ä–µ–∑ CustomerID)              ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ     - Orders (—á–µ—Ä–µ–∑ FK)                     ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  üë§ –ö–∞–∫–∏–µ –º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Sales?            ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  ü§ñ –ù–∞–π–¥–µ–Ω–æ 12 –º–µ—Ä: Net Sales, Returns...   ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  [–í–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å...]                    [–û—Ç–ø—Ä–∞–≤–∏—Ç—å] ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    OntologyChat                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Ontology Context‚îÇ  ‚îÇ OpenAI API (gpt-4o-mini)        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ - entities      ‚îÇ‚îÄ‚îÄ‚îÇ System prompt + ontology context‚îÇ  ‚îÇ
‚îÇ  ‚îÇ - relationships ‚îÇ  ‚îÇ + user question ‚Üí answer        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ - measures      ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îÇ - rules         ‚îÇ                                       ‚îÇ
‚îÇ  ‚îÇ - permissions   ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ OntoGuard (optional)            ‚îÇ  ‚îÇ
‚îÇ                       ‚îÇ - Role-based filtering          ‚îÇ  ‚îÇ
‚îÇ                       ‚îÇ - Permission validation         ‚îÇ  ‚îÇ
‚îÇ                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

##### –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–§–∞–∑–∞ 1: –ë–∞–∑–æ–≤—ã–π —á–∞—Ç (MVP)** ‚úÖ
- [x] –°–æ–∑–¥–∞—Ç—å `powerbi_ontology/chat.py` ‚Äî –∫–ª–∞—Å—Å `OntologyChat`
- [x] –ú–µ—Ç–æ–¥ `build_context(ontology)` ‚Äî —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ –æ–Ω—Ç–æ–ª–æ–≥–∏–∏
- [x] –ú–µ—Ç–æ–¥ `ask(question, role)` ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–æ–ø—Ä–æ—Å–∞ –≤ OpenAI API
- [x] System prompt —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ –æ–Ω—Ç–æ–ª–æ–≥–∏–∏
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤

**–§–∞–∑–∞ 2: Streamlit UI** ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å 8-—é –≤–∫–ª–∞–¥–∫—É "üí¨ Chat" –≤ `ontology_editor.py`
- [x] –í—ã–±–æ—Ä —Ä–æ–ª–∏ (Admin/Analyst/Viewer) —á–µ—Ä–µ–∑ selectbox
- [x] –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ –≤ `st.session_state.chat_history`
- [x] –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤ (–∫–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –≤–≤–æ–¥–∞)
- [x] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –æ–∂–∏–¥–∞–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞

**–§–∞–∑–∞ 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OntoGuard**
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ —Ä–æ–ª–∏ (Viewer –Ω–µ –≤–∏–¥–∏—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ permissions –ø–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (audit trail)

**–§–∞–∑–∞ 4: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SQL-–ø–æ–¥–æ–±–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –æ–Ω—Ç–æ–ª–æ–≥–∏–∏
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤—è–∑–µ–π (mermaid –¥–∏–∞–≥—Ä–∞–º–º—ã)
- [ ] Export —á–∞—Ç–∞ –≤ markdown
- [ ] Suggestions –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

##### –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü—Ä–∏–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞ | –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç |
|-----------|----------------|-----------------|
| **–°—Ç—Ä—É–∫—Ç—É—Ä–∞** | "–ö–∞–∫–∏–µ entities –µ—Å—Ç—å –≤ –æ–Ω—Ç–æ–ª–æ–≥–∏–∏?" | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö entities —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ |
| **–°–≤—è–∑–∏** | "–ö–∞–∫ —Å–≤—è–∑–∞–Ω—ã Customer –∏ Sales?" | –û–ø–∏—Å–∞–Ω–∏–µ relationship + cardinality |
| **–ú–µ—Ä—ã** | "–ö–∞–∫–∏–µ DAX –º–µ—Ä—ã –≤—ã—á–∏—Å–ª—è—é—Ç –ø—Ä–∏–±—ã–ª—å?" | –°–ø–∏—Å–æ–∫ –º–µ—Ä —Å —Ñ–æ—Ä–º—É–ª–∞–º–∏ |
| **–ü—Ä–∞–≤–∏–ª–∞** | "–ö–∞–∫–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è Returns?" | Rules —Å condition –∏ classification |
| **–ü—Ä–∞–≤–∞** | "–ß—Ç–æ –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å Analyst?" | Permissions –ø–æ —Ä–æ–ª—è–º |
| **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ** | "–ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è Product –æ—Ç Category?" | –†–∞–∑–ª–∏—á–∏—è –≤ properties |

##### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **OpenAI API**: `gpt-4o-mini` (–¥–µ—à—ë–≤—ã–π, –±—ã—Å—Ç—Ä—ã–π, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –¥–ª—è Q&A)
- **Environment**: `OPENAI_API_KEY` –≤ `.env`
- **Context window**: ~4K tokens –¥–ª—è –æ–Ω—Ç–æ–ª–æ–≥–∏–∏ + –≤–æ–ø—Ä–æ—Å + –æ—Ç–≤–µ—Ç
- **Fallback**: –õ–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ Ollama (air-gapped mode)

##### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```python
# requirements.txt (–¥–æ–±–∞–≤–∏—Ç—å)
openai>=1.0.0
```

##### –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –†–∞–∑–º–µ—Ä |
|------|----------|--------|
| `powerbi_ontology/chat.py` | OntologyChat –∫–ª–∞—Å—Å | ~200 —Å—Ç—Ä–æ–∫ |
| `ontology_editor.py` | +8-—è –≤–∫–ª–∞–¥–∫–∞ Chat | +150 —Å—Ç—Ä–æ–∫ |
| `tests/test_chat.py` | Unit tests | ~100 —Å—Ç—Ä–æ–∫ |

##### –û—Ü–µ–Ω–∫–∞

- **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è (OpenAI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è + UI)
- **–í—Ä–µ–º—è**: 2-3 —á–∞—Å–∞
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π (–æ—Å–Ω–æ–≤–Ω–∞—è —Ñ–∏—á–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏)

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ .pbix —Ñ–∞–π–ª–∞
```
.pbix (ZIP archive)
‚îú‚îÄ‚îÄ DataModel (binary, XPress9 compressed) ‚Üê PBIXRay –ø–∞—Ä—Å–∏—Ç —ç—Ç–æ
‚îú‚îÄ‚îÄ model.bim (JSON, legacy fallback)
‚îú‚îÄ‚îÄ Report/Layout (UTF-16 JSON)
‚îî‚îÄ‚îÄ [DiagnosticsPackage] (optional)
```

### –ß—Ç–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ .pbix
- **Tables**: –∏–º–µ–Ω–∞, columns, data types
- **Relationships**: FK/PK —Å–≤—è–∑–∏, cardinality
- **Measures**: DAX —Ñ–æ—Ä–º—É–ª—ã
- **Calculated Columns**: DAX –≤—ã—Ä–∞–∂–µ–Ω–∏—è
- **RLS Rules**: Row-Level Security
- **Power Query**: M-–∫–æ–¥ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `pbixray>=0.5.0` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ DataModel
- `rdflib>=6.0.0` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è OWL
- `pydantic>=2.0.0` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π

---

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
cd ~/powerbi-ontology-extractor
pip install -r requirements.txt

# –¢–µ—Å—Ç—ã
pytest  # 340 passed, coverage 82%

# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ–Ω—Ç–æ–ª–æ–≥–∏–∏
python -m powerbi_ontology.cli extract --input sample.pbix --output ontology.owl
```

---

## üìã –ü–ª–∞–Ω –æ—Ç–ª–∞–¥–∫–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (Streamlit UI)

### ‚úÖ –û–¢–õ–ê–î–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê (2026-02-04)

**–¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª**: `Sales_Returns_Sample.pbix` (6.3 MB)
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Pipeline –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç!

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚úÖ
- [x] –§–∞–π–ª—ã: `Sales_Returns_Sample.pbix`, `Adventure_Works_DW_2020.pbix`
- [x] –†–∞–∑–º–µ—Ä—ã: 6.3 MB –∏ 7.8 MB

### –≠—Ç–∞–ø 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ ‚úÖ
- [x] Streamlit UI –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8503
- [x] **–ë–∞–≥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω**: –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –∑–∞–≥—Ä—É–∑–∫–∏ (commit `7b652c8`)
  - –ü—Ä–∏—á–∏–Ω–∞: `st.rerun()` –≤—ã–∑—ã–≤–∞–ª—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
  - –†–µ—à–µ–Ω–∏–µ: –¥–æ–±–∞–≤–ª–µ–Ω `loaded_file` tracking –≤ session_state
- [x] **Sales_Returns_Sample.pbix**:
  - 15 entities, 9 relationships, 58 DAX measures, 32 business rules
- [x] **Adventure_Works_DW_2020.pbix**:
  - 11 entities, 13 relationships, 0 DAX measures, 0 business rules

### –≠—Ç–∞–ø 3-6: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ UI ‚úÖ
- [x] Entities –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] Relationships –≤–∏–¥–Ω—ã
- [x] Permissions –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è
- [x] Business Rules –¥–æ—Å—Ç—É–ø–Ω—ã

### –≠—Ç–∞–ø 7: OWL Export ‚úÖ
- [x] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω OWL —Ñ–∞–π–ª
- [x] **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞**:
  - Triples: **1734**
  - Classes: 58
  - Datatype Properties: 86
  - Object Properties: 12
  - Action Rules: 192 (48 read + 96 write + 48 delete)

### –≠—Ç–∞–ø 8: OntoGuard –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ‚úÖ
- [x] OWL –∑–∞–≥—Ä—É–∂–µ–Ω –≤ OntoGuard OntologyValidator
- [x] **Sales Returns —Ç–µ—Å—Ç—ã (4/4 passed)**:
  | –†–æ–ª—å | –î–µ–π—Å—Ç–≤–∏–µ | Entity | –†–µ–∑—É–ª—å—Ç–∞—Ç |
  |------|----------|--------|-----------|
  | Analyst | read | Customer | ‚úÖ ALLOWED |
  | Viewer | delete | Product | ‚úÖ ALLOWED |
  | Admin | delete | Customer | ‚úÖ ALLOWED |
  | Analyst | update | Store | ‚úÖ ALLOWED |
- [x] **Adventure Works —Ç–µ—Å—Ç—ã (5/5 passed)**:
  | –†–æ–ª—å | –î–µ–π—Å—Ç–≤–∏–µ | Entity | –†–µ–∑—É–ª—å—Ç–∞—Ç |
  |------|----------|--------|-----------|
  | Admin | read | Customer | ‚úÖ ALLOWED |
  | Analyst | update | Sales | ‚úÖ ALLOWED |
  | Viewer | delete | Product | ‚úÖ ALLOWED |
  | Admin | delete | Sales_Territory | ‚úÖ ALLOWED |
  | Analyst | read | Reseller | ‚úÖ ALLOWED |

### –≠—Ç–∞–ø 9: CLI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ
- [x] **extract**: 1 —Ñ–∞–π–ª ‚Üí 1656 triples OWL
- [x] **batch**: 2 —Ñ–∞–π–ª–∞ ‚Üí 2 OWL (100% success rate)
- [x] **analyze**: 3 CRITICAL –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –Ω–∞–π–¥–µ–Ω–æ (Customer, Product, Date)
- [x] **diff**: 136 –∏–∑–º–µ–Ω–µ–Ω–∏–π (51 added, 82 removed, 3 modified)

**–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ CLI**:
```bash
python -m powerbi_ontology.cli <command> [options]
```

### –≠—Ç–∞–ø 10: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ
- [x] –ë–∞–≥ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- [x] –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–∞–Ω—ã –≤ CLAUDE.md

### ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ production
- [x] –û–±–∞ .pbix —Ñ–∞–π–ª–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] OWL —ç–∫—Å–ø–æ—Ä—Ç –≤–∞–ª–∏–¥–µ–Ω (1734 + 1083 triples)
- [x] OntoGuard –ø—Ä–∏–Ω–∏–º–∞–µ—Ç OWL
- [x] Permissions —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (9/9 —Ç–µ—Å—Ç–æ–≤ –≤—Å–µ–≥–æ)
- [x] CLI —Ä–∞–±–æ—Ç–∞–µ—Ç (4/4 –∫–æ–º–∞–Ω–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ)

---

## –ò—Å—Ç–æ—Ä–∏—è —Å–µ—Å—Å–∏–π

### 2026-02-04 (–Ω–æ—á—å) ‚Äî Ontology Chat —Å AI (Task 14) ‚úÖ

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ**:
- ‚úÖ **Task 14: Ontology Chat** ‚Äî AI-—á–∞—Ç –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ .pbix –¥–∞–Ω–Ω—ã–º
  - –§–∞–∑–∞ 1 (MVP): –∫–ª–∞—Å—Å `OntologyChat` –≤ `powerbi_ontology/chat.py`
  - –§–∞–∑–∞ 2 (UI): 8-—è –≤–∫–ª–∞–¥–∫–∞ "üí¨ Chat" –≤ Streamlit
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenAI API (gpt-4o-mini)
- ‚úÖ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ –æ–Ω—Ç–æ–ª–æ–≥–∏–∏ (entities, relationships, measures, rules)
- ‚úÖ –í—ã–±–æ—Ä —Ä–æ–ª–∏ (Admin/Analyst/Viewer)
- ‚úÖ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ë–∏–ª–∏–Ω–≥–≤–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (—Ä—É—Å—Å–∫–∏–π/–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
- ‚úÖ README.md –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ç–∞ (Playwright)**:

| –û–Ω—Ç–æ–ª–æ–≥–∏—è | –í–æ–ø—Ä–æ—Å | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|-----------|--------|-----------|
| Sales_Returns_Sample | "–ö–∞–∫–∏–µ entities –µ—Å—Ç—å –≤ –æ–Ω—Ç–æ–ª–æ–≥–∏–∏?" | ‚úÖ –°–ø–∏—Å–æ–∫ 15 entities —Å properties |
| Sales_Returns_Sample | "–ü–æ–∫–∞–∂–∏ –≤—Å–µ relationships –º–µ–∂–¥—É entities" | ‚úÖ –¢–∞–±–ª–∏—Ü–∞ 9 —Å–≤—è–∑–µ–π |
| Adventure_Works_DW_2020 | "Describe the data model structure" | ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ 11 entities |

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã**:
- `powerbi_ontology/chat.py` ‚Äî 303 —Å—Ç—Ä–æ–∫–∏ (OntologyChat, ChatSession, ChatMessage)
- `.env` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è OPENAI_API_KEY

**–ö–æ–º–º–∏—Ç—ã**:
- `139075c` ‚Äî feat: Add Ontology Chat with OpenAI integration
- `21270d2` ‚Äî docs: Update project memory with completed Ontology Chat feature
- `861fd91` ‚Äî docs: Complete README rewrite with full project documentation

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**:
- 14/14 –∑–∞–¥–∞—á –∑–∞–≤–µ—Ä—à–µ–Ω–æ
- 340 —Ç–µ—Å—Ç–æ–≤, 82% coverage
- 8 –≤–∫–ª–∞–¥–æ–∫ –≤ Streamlit UI

---

### 2026-02-04 (–≤–µ—á–µ—Ä) ‚Äî –û—Ç–ª–∞–¥–∫–∞ Streamlit UI + –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–æ–∏—Ö .pbix —Ñ–∞–π–ª–æ–≤ ‚úÖ

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ**:
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ pipeline: .pbix ‚Üí Streamlit UI ‚Üí OWL ‚Üí OntoGuard
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥**: –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –∑–∞–≥—Ä—É–∑–∫–∏ .pbix —Ñ–∞–π–ª–æ–≤
  - –ü—Ä–∏—á–∏–Ω–∞: `st.rerun()` –±–µ–∑ tracking –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
  - –†–µ—à–µ–Ω–∏–µ: `loaded_file` –≤ session_state
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ /tmp –æ—Ç 2730 –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π pbix_extract_*
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã **–æ–±–∞** —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–∞

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤**:

| –ú–µ—Ç—Ä–∏–∫–∞ | Sales Returns | Adventure Works |
|---------|---------------|-----------------|
| –†–∞–∑–º–µ—Ä | 6.3 MB | 7.8 MB |
| Entities | 15 | 11 |
| Relationships | 9 | 13 |
| DAX Measures | 58 | 0 |
| Business Rules | 32 | 0 |
| OWL Triples | 1734 | 1083 |
| Action Rules | 192 | 132 |
| OntoGuard Tests | 4/4 ‚úÖ | 5/5 ‚úÖ |

**CLI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (4/4 –∫–æ–º–∞–Ω–¥)**:
| –ö–æ–º–∞–Ω–¥–∞ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|---------|-----------|
| extract | 1656 triples |
| batch | 2/2 files, 100% |
| analyze | 3 conflicts |
| diff | 136 changes |

**–ù–æ–≤–∞—è —Ñ–∏—á–∞: Diff & Merge –≤ UI**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ 7-—è –≤–∫–ª–∞–¥–∫–∞ –≤ Streamlit UI
- –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Ç–æ—Ä–æ–π –æ–Ω—Ç–æ–ª–æ–≥–∏–∏ (JSON/.pbix)
- Run Diff, Run Merge, Semantic Debt Analysis
- –°—Ç—Ä–∞—Ç–µ–≥–∏–∏: union, ours, theirs

**–ù–æ–≤–∞—è —Ñ–∏—á–∞: –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∏—Å—Ç–æ—Ä–∏—è**:
- –ö–Ω–æ–ø–∫–∞ "üíæ Save to History" –≤ sidebar
- –°–µ–∫—Ü–∏—è "üìö Recent Ontologies" (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Ñ–∞–π–ª–æ–≤)
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ `data/ontologies/` —Å timestamp
- –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ: –æ–±–∞ .pbix —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ ‚úÖ

**–ö–æ–º–º–∏—Ç—ã**:
- `7b652c8` ‚Äî fix: Prevent infinite rerun loop when loading .pbix in Streamlit UI
- `ca716fa` ‚Äî docs: Update project memory with debugging results
- `972c43f` ‚Äî docs: Add Adventure Works test results
- `0f2ddfc` ‚Äî docs: Add CLI test results
- `5b6a783` ‚Äî feat: Add Diff & Merge tab to Streamlit UI
- `d7de9f2` ‚Äî feat: Add autosave and recent ontologies history

---

### 2026-02-04 (—É—Ç—Ä–æ) ‚Äî –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–¥–∞—á + README –æ–±–Ω–æ–≤–ª—ë–Ω

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ**:
- ‚úÖ Task 10: Multi-Dashboard Semantic Debt Analysis (fix type errors)
- ‚úÖ Task 11: Ontology Diff Tool (Git-like diff and merge)
- ‚úÖ Task 12: CLI Batch Processing (`pbix2owl` command)
- ‚úÖ Task 13: Collaborative Ontology Review (workflow + comments)
- ‚úÖ README.md –æ–±–Ω–æ–≤–ª—ë–Ω —Å –Ω–æ–≤—ã–º–∏ —Ñ–∏—á–∞–º–∏ (—Å–µ–∫—Ü–∏–∏ 9-12)
- ‚úÖ README.md –∑–∞–ø—É—à–µ–Ω –Ω–∞ GitHub

**–ö–æ–º–º–∏—Ç—ã**:
- `1fea703` ‚Äî fix: Resolve type error in semantic_debt.py summary field
- `001a1d1` ‚Äî feat: Add Ontology Diff Tool with Git-like diff and merge
- `13558aa` ‚Äî feat: Add CLI batch processing with pbix2owl command
- `354382e` ‚Äî feat: Add Collaborative Ontology Review workflow
- `d896a3d` ‚Äî chore: Update project memory with completed tasks
- `418c1a3` ‚Äî chore: Update tests count and coverage in CLAUDE.md
- `e08bf8c` ‚Äî docs: Update README with new features (Diff, Review, CLI)

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**:
- 340 —Ç–µ—Å—Ç–æ–≤ passing
- 82% coverage
- 14/14 –∑–∞–¥–∞—á –∑–∞–≤–µ—Ä—à–µ–Ω–æ
- GitHub: https://github.com/vpakspace/powerbi-ontology-extractor

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã

- **OntoGuard AI**: `~/ontoguard-ai/` ‚Äî Semantic Firewall for AI Agents
- **Universal Agent Connector**: `~/universal-agent-connector/` ‚Äî MCP Infrastructure + Streamlit UI
- **Original repo**: https://github.com/pankajkumar/powerbi-ontology-extractor
- **GitHub fork**: https://github.com/vpakspace/powerbi-ontology-extractor
